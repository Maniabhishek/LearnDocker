## CONTAINER 
- Provides an isolated environment
- can be stopped & restarted
- is just a process but a special process which has its file system which is provided by images
- if you run a container of ubuntu and have some file created in any folder and you again open another container of ubuntu in another teminal you will not be able to see those file that were created in other container , anything done in one container will be invisible to other container , each container creates an isolated environment

## Dockerfile (some important dockerfile instructions for building an image)
- FROM (specifying the base image, we take that base image which contains bunch of files and directories and build image on top of that)
- WORKDIR (working directory once we specify this , all the following command will be executed from working directory)
- COPY
- ADD
- RUN (we can run all the linux command using RUN instructions)
- ENV (for setting up environment variables)
- EXPOSE (for specfying the container starting on specific port)
- USER (specifying the user should run the applications)
- CMD (specifying the command when we start the container)
- ENTRYPOINT


## choosing the right base image
- we need to choose the correct base image for example go,or node any application you are working on
- once we choose and add the instruction using FROM eg., ```FROM golang:1.21.3-alpine3.18 AS build```
- now to create the image use commad ```docker build -t go-simple-app .``` -t for tagging the image and . to tell docker where is the Dockerfile which is the current directory
- now to see the docker use ```docker image ls``` and to run use command ```docker run -it (interactive) go-simple-app```
- now if you run the above command docker run , you will see go terminal but what if want to to bash shell or sh shell terminal, then use command ```docker run -it go-simple-app bash``` now you might get an error saying that module not found , its because the alpine that you downloaded wouldn't have bash so, use ```docker run -it go-simple-app sh```


## copying files and directories 
- ``` dokcer build -t go-simple-app . ``` look at the last argument which is "." , so when we execute this command , docker client sends the content of this directory to docker engine this is called build context so docker client sends the build context to docker enginer and then docker engine will start executing the instruction from dockerfile one by one
- ``` COPY package.json /app ``` this insctruction will copy package.json to /app directory so if /app directory doesn't exist docker will automatically create it
- for multiple files to copy ```  COPY package.json README.md /app/ ``` if copying multiple files then directory name should end with / (i.e., /app/)
- we can also use patterns ``` COPY package*.json /app/ ```
- what if we want to copy the entire file and folder in the current directory then use period (.) ```COPY . /app/```
- let's discuss about the destination , we are using absolute path, but we can also use relative path just use one instruction ```WORKDIR /app``` so all the instruction coming after this will be executed inside this directory
- so we can now change previous COPY command COPY . .
- what if you want to copy a files which  has space in it we can use array of string , where elements of the array will act the arguments ```COPY ["hello world.txt", "."]```
- we can also use ADD instruction ``` ADD . .``` but with ADD we can have more feature , for example we can copy files from any link or we can copy zipped file (e.g., file.zip )then entire zipped file is unzipped and copied to working directory 
  

## Exclude files or directories
- just like .gitignore we have a file .dockerignore , we can mention file that we dont want the part of image
- there are lot of advantages of including this as , build time will increased , build context size will be decreased
- just include the filder name you dont want it to be part of


## Running Commands 
- now here while copying all the files and and for example we excluded go.sum file then we need to run ```go mod tidy``` for example if node project you run ```npm install```
- use instruction ```RUN go mod tidy``` for node ```RUN npm install```
